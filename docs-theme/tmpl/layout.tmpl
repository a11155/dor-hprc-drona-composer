<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title><?js= title ?> - Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="<?js= (env.conf.templates && env.conf.templates.description) || 'API Documentation' ?>">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- JSDoc Default Styles -->
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    
    <!-- TAMU HPRC Custom Styles -->
    <link type="text/css" rel="stylesheet" href="styles/hprc-theme.css">

</head>

<body>
    <!-- Header -->
    <header class="tamu-header">
        <div class="header-container">
            <div class="brand-section">
                <h1 class="site-title">
                    <a href="index.html">Drona Documentation</a>
                </h1>
                <p class="site-subtitle">Texas A&M University HPRC</p>
            </div>
            
            <nav class="main-nav">
                <a href="index.html" class="nav-link">Home</a>
                <a href="list_class.html" class="nav-link">Classes</a>
                <a href="list_namespace.html" class="nav-link">Namespaces</a>
                <a href="global.html" class="nav-link">Global</a>
                <a href="https://hprc.tamu.edu" class="nav-link" target="_blank">HPRC Portal</a>
            </nav>
            
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>



    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="nav">
            <div class="sidebar-header">
                <h3>Navigation</h3>
                <button class="sidebar-close" aria-label="Close sidebar">&times;</button>
            </div>
            <div class="sidebar-search">
                <input type="text" class="sidebar-search-input" placeholder="Search navigation..." aria-label="Search navigation">
                <button class="sidebar-search-clear" aria-label="Clear search" style="display: none;">&times;</button>
            </div>
            <div class="sidebar-content">
                <?js= this.nav ?>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content" id="main">
            <div class="content-wrapper">
                <?js= content ?>
            </div>
        </main>
    </div>



    <!-- Footer -->
    <footer class="tamu-footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Texas A&M University</h4>
                    <p>High Performance Research Computing</p>
                </div>
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <p>Generated by <a href="https://github.com/jsdoc/jsdoc" target="_blank">JSDoc <?js= env.version.number ?></a></p>
                    <?js if(env.conf.templates && env.conf.templates.default && env.conf.templates.default.includeDate !== false) { ?>
                        <p>Last updated: <?js= (new Date()).toLocaleDateString() ?></p>
                    <?js } ?>
                </div>
                <div class="footer-section">
                    <h4>Links</h4>
                    <a href="https://hprc.tamu.edu" target="_blank">HPRC Website</a>
                    <a href="https://tamu.edu" target="_blank">Texas A&M University</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <?js= new Date().getFullYear() ?> Texas A&M University. All rights reserved.</p>
            </div>
        </div>
    </footer>



    <!-- Scripts -->
    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    
    <!-- Custom Scripts -->
    <script>
        // Enhanced navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const nav = document.getElementById('nav');
            const toggleButton = document.querySelector('.nav-toggle');
            const sidebarClose = document.querySelector('.sidebar-close');
            const mainNav = document.querySelector('.main-nav');
            const searchInput = document.querySelector('.sidebar-search-input');
            const searchClear = document.querySelector('.sidebar-search-clear');
            const sidebarContent = document.querySelector('.sidebar-content');
            
            // Mobile navigation toggle
            if (toggleButton) {
                toggleButton.addEventListener('click', function() {
                    nav.classList.toggle('active');
                    document.body.classList.toggle('nav-open');
                });
            }
            
            // Sidebar close button
            if (sidebarClose) {
                sidebarClose.addEventListener('click', function() {
                    nav.classList.remove('active');
                    document.body.classList.remove('nav-open');
                });
            }
            
            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768 && 
                    !nav.contains(e.target) && 
                    !toggleButton.contains(e.target) &&
                    nav.classList.contains('active')) {
                    nav.classList.remove('active');
                    document.body.classList.remove('nav-open');
                }
            });
            
            // Close sidebar when clicking on overlay
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768 && 
                    nav.classList.contains('active') &&
                    e.target === nav.querySelector('::after')) {
                    nav.classList.remove('active');
                    document.body.classList.remove('nav-open');
                }
            });
            
            // Prevent horizontal scroll on mobile
            document.addEventListener('touchmove', function(e) {
                if (window.innerWidth <= 768) {
                    const touch = e.touches[0];
                    const startX = touch.clientX;
                    // Prevent horizontal scrolling
                    if (Math.abs(startX - touch.clientX) > Math.abs(touch.clientY - startX)) {
                        e.preventDefault();
                    }
                }
            }, { passive: false });
            
            // Sidebar search functionality
            if (searchInput && searchClear && sidebarContent) {
                let originalContent = sidebarContent.innerHTML;
                
                // Search input handler
                searchInput.addEventListener('input', function() {
                    const query = this.value.toLowerCase().trim();
                    
                    if (query.length > 0) {
                        searchClear.style.display = 'block';
                        filterSidebarContent(query);
                    } else {
                        searchClear.style.display = 'none';
                        sidebarContent.innerHTML = originalContent;
                    }
                });
                
                // Clear search
                searchClear.addEventListener('click', function() {
                    searchInput.value = '';
                    searchClear.style.display = 'none';
                    sidebarContent.innerHTML = originalContent;
                    searchInput.focus();
                });
                
                // Filter sidebar content
                function filterSidebarContent(query) {
                    const sections = sidebarContent.querySelectorAll('h2, h3, ul, li');
                    let filteredHTML = '';
                    let currentSection = null;
                    let hasMatches = false;
                    
                    // Reset content
                    sidebarContent.innerHTML = originalContent;
                    
                    // Hide all elements first
                    const allElements = sidebarContent.querySelectorAll('*');
                    allElements.forEach(element => {
                        element.style.display = 'none';
                    });
                    
                    // Show matching elements
                    const links = sidebarContent.querySelectorAll('a');
                    links.forEach(link => {
                        const text = link.textContent.toLowerCase();
                        if (text.includes(query)) {
                            // Show the link
                            link.style.display = 'block';
                            
                            // Show parent elements
                            let parent = link.parentElement;
                            while (parent && parent !== sidebarContent) {
                                parent.style.display = 'block';
                                parent = parent.parentElement;
                            }
                            
                            // Show preceding headers
                            let prev = link.parentElement;
                            while (prev && prev.previousElementSibling) {
                                prev = prev.previousElementSibling;
                                if (prev.tagName === 'H2' || prev.tagName === 'H3') {
                                    prev.style.display = 'block';
                                    break;
                                }
                            }
                            
                            hasMatches = true;
                        }
                    });
                    
                    // Show "No results" message if no matches
                    if (!hasMatches) {
                        sidebarContent.innerHTML = '<p style="padding: 1rem; color: #666; font-style: italic;">No results found for "' + query + '"</p>';
                    }
                }
            }
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
            
            // Add active class to current page in navigation
            const currentPath = window.location.pathname;
            document.querySelectorAll('.sidebar a').forEach(link => {
                if (link.getAttribute('href') === currentPath.split('/').pop()) {
                    link.classList.add('active');
                }
            });
            
            // Add active class to main nav links
            document.querySelectorAll('.main-nav a').forEach(link => {
                if (link.getAttribute('href') === currentPath.split('/').pop()) {
                    link.classList.add('active');
                }
            });
        });
    </script>

</body>

</html>